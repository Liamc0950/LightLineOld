{% extends 'base.html' %}

{% block content %}

{% load static %}

{% include "_modal.html" %}

<ul class="nav nav-tabs" id="myTab" role="tablist">
    <li class="nav-item" role="presentation">
      <button class="nav-link active" id="work-tab" data-bs-toggle="tab" data-bs-target="#home" type="button" role="tab" aria-controls="home" aria-selected="true">Work</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="focus-tab" data-bs-toggle="tab" data-bs-target="#profile" type="button" role="tab" aria-controls="profile" aria-selected="false">Focus</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="programming-tab" data-bs-toggle="tab" data-bs-target="#contact" type="button" role="tab" aria-controls="contact" aria-selected="false">Programming</button>
    </li>
</ul>
<!-- WORK NOTES TAB -->
<div class="tab-content" id="workNotesTab">
    <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="work-tab">
        <table class="table table-dark table-hover " id="work-notes">
            <thead>
            <tr class="tableHead">
                <th>WORK NOTE</th>
                <th>CHANNELS</th>
                <th>CREATED BY</th>
                <th>ASSIGNED TO</th>
                <th>PRIORITY</th>
                <th></th>
            </tr>
            </thead>
            {% if workNotes %}
                {% for workNote in workNotes %}
                    <tr class="workNoteRow">
                        <td class="editable" data-id="{{ instrument.id }}" data-input="text" data-type="instrumentType" scope="row" data-model="database">{{workNote.noteText}}</td>
                        <td class="editable" data-id="{{ instrument.id }}" data-input="text" data-type="position" data-model="database"> {{workNote.channelList}}</td>
                        <td class="editable" data-id="{{ instrument.id }}" data-input="text" data-type="unitNumber" data-model="database">{{workNote.createdBy.getName}}</td>
                        <td class="editable" data-id="{{ instrument.id }}" data-input="text" data-type="load" data-model="database">{{workNote.assignedTo.getName}}</td>
                        <td class="editable" data-id="{{ instrument.id }}" data-input="text" data-type="accessory" data-model="database">{{workNote.priority}}</td>
                        <!-- DELETE BUTTON -->
                        <td>
                            <a href="deleteInstrument/{{instrument.id}}" class="btn btn-danger"><i class="fa fa-trash-alt"> </i></a>
                        </td>
                    </tr>
                {% endfor %}
            {% endif %}
        </table>
            </div>
    <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="focus-tab">
        <table class="table table-dark table-hover " id="focus-notes">
            <thead>
            <tr class="tableHead">
                <th>INSTRUMENT TYPE</th>
                <th>POSITION</th>
                <th>UNIT #</th>
                <th>LOAD</th>
                <th>ACCESSORY</th>
                <th>COLOR</th>
                <th>GOBO</th>
                <th>PURPOSE</th>
                <th>DIMMER</th>
                <th>ADDRESS</th>
                <th>UNIVERSE</th>
                <th>CHANNEL #</th>
                <th></th>
            </tr>
            </thead>
            {% if instrumentList %}
                {% for instrument in instrumentList %}
                    <tr class="cueRow">
                        <td class="editable" data-id="{{ instrument.id }}" data-input="text" data-type="instrumentType" scope="row" data-model="database">{{instrument.instrumentType}}</td>
                        <td class="editable" data-id="{{ instrument.id }}" data-input="text" data-type="position" data-model="database"> {{instrument.position}}</td>
                        <td class="editable" data-id="{{ instrument.id }}" data-input="text" data-type="unitNumber" data-model="database">{{instrument.unitNumber}}</td>
                        <td class="editable" data-id="{{ instrument.id }}" data-input="text" data-type="load" data-model="database">{{instrument.instrumentType.load}}</td>
                        <td class="editable" data-id="{{ instrument.id }}" data-input="text" data-type="accessory" data-model="database">{{instrument.accessory}}</td>
                        <td data-id="{{ instrument.id }}" data-input="choice" data-type="color" data-model="Color">{{color}}
                        {% for color in instrument.getColors %}
                            <div class="editable" data-id="{{ instrument.id }}" data-input="choice" data-type="color" data-model="Color">{{color}}
                            </div>
                            <span class="dot" style= "height: 25px; width: 25px; background-color:{{color.colorHex}}; border-radius: 50%; display: inline-block;"></span>
                        {% endfor %}
                        <td class="editable" data-id="{{ instrument.id }}" data-input="text" data-type="gobo" data-model="database">{{instrument.gobo}}
                            {% if instrument.gobo %}
                                <!-- <span class="dot" style= "height: 40px; width: 40px; border-radius: 50%; display: inline-block; background: url('/static/images/{{instrument.gobo.imageUrl}}');"> -->
                                <img src="{% static '' %}images/{{ instrument.gobo.imageUrl}}" style="height: 30px; width: 30px; border-radius: 50%;">
                            {% endif %}
                        </td>
                        <td class="editable" data-id="{{ instrument.id }}" data-input="text" data-type="purpose" data-model="database">{{instrument.purpose}}</td>
                        <td class="editable" data-id="{{ instrument.id }}" data-input="text" data-type="dimmer" data-model="database">{{instrument.dimmer}}</td>
                        <td class="editable" data-id="{{ instrument.id }}" data-input="text" data-type="address" data-model="database">{{instrument.address}}</td>
                        <td class="editable" data-id="{{ instrument.id }}" data-input="text" data-type="universe" data-model="database">{{instrument.universe}}</td>
                        <td class="editable" data-id="{{ instrument.id }}" data-input="text" data-type="channel" data-model="database">{{instrument.channel}}</td>
        
        
                        <td>
                            <a href="deleteInstrument/{{instrument.id}}" class="btn btn-danger"><i class="fa fa-trash-alt"> </i></a>
                        </td>
                    </tr>
                {% endfor %}
            {% endif %}
        </table>
    </div>
    <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="programming-tab">
        <table class="table table-dark table-hover " id="programming-notes">
            <thead>
            <tr class="tableHead">
                <th>INSTRUMENT TYPE</th>
                <th>POSITION</th>
                <th>UNIT #</th>
                <th>LOAD</th>
                <th>ACCESSORY</th>
                <th>COLOR</th>
                <th>GOBO</th>
                <th>PURPOSE</th>
                <th>DIMMER</th>
                <th>ADDRESS</th>
                <th>UNIVERSE</th>
                <th>CHANNEL #</th>
                <th></th>
            </tr>
            </thead>
            {% if instrumentList %}
                {% for instrument in instrumentList %}
                    <tr class="cueRow">
                        <td class="editable" data-id="{{ instrument.id }}" data-input="text" data-type="instrumentType" scope="row" data-model="database">{{instrument.instrumentType}}</td>
                        <td class="editable" data-id="{{ instrument.id }}" data-input="text" data-type="position" data-model="database"> {{instrument.position}}</td>
                        <td class="editable" data-id="{{ instrument.id }}" data-input="text" data-type="unitNumber" data-model="database">{{instrument.unitNumber}}</td>
                        <td class="editable" data-id="{{ instrument.id }}" data-input="text" data-type="load" data-model="database">{{instrument.instrumentType.load}}</td>
                        <td class="editable" data-id="{{ instrument.id }}" data-input="text" data-type="accessory" data-model="database">{{instrument.accessory}}</td>
                        <td data-id="{{ instrument.id }}" data-input="choice" data-type="color" data-model="Color">{{color}}
                        {% for color in instrument.getColors %}
                            <div class="editable" data-id="{{ instrument.id }}" data-input="choice" data-type="color" data-model="Color">{{color}}
                            </div>
                            <span class="dot" style= "height: 25px; width: 25px; background-color:{{color.colorHex}}; border-radius: 50%; display: inline-block;"></span>
                        {% endfor %}
                        <td class="editable" data-id="{{ instrument.id }}" data-input="text" data-type="gobo" data-model="database">{{instrument.gobo}}
                            {% if instrument.gobo %}
                                <!-- <span class="dot" style= "height: 40px; width: 40px; border-radius: 50%; display: inline-block; background: url('/static/images/{{instrument.gobo.imageUrl}}');"> -->
                                <img src="{% static '' %}images/{{ instrument.gobo.imageUrl}}" style="height: 30px; width: 30px; border-radius: 50%;">
                            {% endif %}
                        </td>
                        <td class="editable" data-id="{{ instrument.id }}" data-input="text" data-type="purpose" data-model="database">{{instrument.purpose}}</td>
                        <td class="editable" data-id="{{ instrument.id }}" data-input="text" data-type="dimmer" data-model="database">{{instrument.dimmer}}</td>
                        <td class="editable" data-id="{{ instrument.id }}" data-input="text" data-type="address" data-model="database">{{instrument.address}}</td>
                        <td class="editable" data-id="{{ instrument.id }}" data-input="text" data-type="universe" data-model="database">{{instrument.universe}}</td>
                        <td class="editable" data-id="{{ instrument.id }}" data-input="text" data-type="channel" data-model="database">{{instrument.channel}}</td>
        
        
                        <td>
                            <a href="deleteInstrument/{{instrument.id}}" class="btn btn-danger"><i class="fa fa-trash-alt"> </i></a>
                        </td>
                    </tr>
                {% endfor %}
            {% endif %}
        </table>
    </div>
</div>
{% endblock content %}

{% block extrascripts %}
<!-- Datatables -->
<script>

    //initialize Work Notes
    $(document).ready( function () {
        dTable=$('#work-notes').DataTable({
            paging: false,
            autoWidth: true,
            searching: true,
            bInfo: true,
            bSort: true,
            // dom: "lrtip" //to hide default searchbox but search feature is not disabled hence customised searchbox can be made.
        });
    } );

    // $('#myCustomSearchBox').keyup(function() {
    //     dTable.search($(this).val()).draw(); // this  is for customized searchbox with datatable search feature.
    // })

    //initialize Focus Notes
    $(document).ready( function () {
        dTable=$('#focus-notes').DataTable({
            paging: false,
            autoWidth: true,
            searching: true,
            bInfo: true,
            bSort: true,
            // dom: "lrtip" //to hide default searchbox but search feature is not disabled hence customised searchbox can be made.
        });
    } );
    //initialize Programming Notes
    $(document).ready( function () {
        dTable=$('#programming-notes').DataTable({
            paging: false,
            autoWidth: true,
            searching: true,
            bInfo: true,
            bSort: true,
            // dom: "lrtip" //to hide default searchbox but search feature is not disabled hence customised searchbox can be made.
        });
    } );

</script>

{% endblock extrascripts %}